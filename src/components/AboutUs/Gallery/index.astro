---
import gallery from "../../../data/_gallery";
---

<section id="gallery" class="section-padding-x pt-8 pb-8 overflow-hidden">
  <div class="container max-w-screen-lg">
    <div class="mb-4 text-center">
      <h2 class="sub-header-font-size font-bold">Dokumentasi</h2>
      <p class="normal-font-size">
        Berikut adalah daftar dokumentasi yang pernah dilakukan melalui aplikasi
        ini
      </p>
    </div>
    <div class="swiper documentation-card">
      <div class="swiper-wrapper">
        {
          gallery.map((items) => (
            <div class="swiper-slide max-w-[240px] sm:max-w-[360px] lg:max-w-[480px] shadow-md shadow-white-base">
              <img src={items.image} alt={`Dokumentasi ${items.id}`} />
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>

<style>
  .swipper {
    width: 100%;
    padding: 50px 0;
  }

  .documentation-card {
    overflow: visible;
  }

  @media screen and (max-width: 1080px) {
    .documentation-card {
      overflow: hidden;
    }
  }

  .swiper-slide {
    position: relative;
    aspect-ratio: 16/10;
    border-radius: 14px;
  }

  .swiper-slide img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: inherit;
    user-select: none;
  }
</style>

<script>
  import Swiper from "swiper/bundle";
  import "swiper/swiper-bundle.css";

  let documentationSwiper = new Swiper(".documentation-card", {
    effect: "coverflow",
    grabCursor: true,
    centeredSlides: true,
    initialSlide: 2,
    speed: 600,
    preventClicks: true,
    slidesPerView: "auto",
    coverflowEffect: {
      rotate: 0,
      stretch: 80,
      depth: 350,
      modifier: 1,
      slideShadows: true,
    },
    on: {
      click(params) {
        documentationSwiper.slideTo(params.clickedIndex);
      },
    },
  });
</script>
